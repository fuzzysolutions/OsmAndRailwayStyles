<renderingStyle name="RailwayInfra" depends="mapnik" defaultColor="#f1eae4" version="1.0">
<!-- OpenRailwayMap-inspired Rendering Style for OsmAnd by dvÃ¤rgsignal -->	
<renderingProperty attr="appMode" name="Rendering mode" description="Map optimization for respective User Profile"
		type="string" possibleValues="browse map,car,bicycle,pedestrian"/>
<!-- for compatibility of copied content-->
<renderingAttribute name="defaultColor">
		<!-- next line should should make background transparent for underlays to be visible, but this curretnly does not work as desired -->
		<!-- To change default color completely you should do that also for tag="place" value="island" and tag="natural" value="land" (search this file) -->
		<case noPolygons="true" attrColorValue="#00ebe7e4"/>
		<case attrColorValue="#ebe7e4">
			<apply_if nightMode="true" attrColorValue="#121926"/>
		</case>
</renderingAttribute>

<!-- done -->
	<renderingConstant name="null" value="#00000000"/>
	<renderingConstant name="railwayCasingRadius" value="2"/>
<!-- railway colors -->
	<renderingAttribute name="railwayRailColor"> <!-- TODO: rename to mainColor -->
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#FFCB97" />
		<case attrColorValue="#ff8100"/>
	</renderingAttribute>

	<renderingAttribute name="landuseRailwayColor"> <!-- this is custom, not ORM. Todo: debug -->
		<!-- <case nightMode="true" attrColorValue="$defaultColor"/> -->
		<!-- <case moreDetailed="true" attrColorValue="#e0ddda"/> -->
		<case attrColorValue="e2e2e2"/>	
	</renderingAttribute>
	<renderingAttribute name="highSpeedColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#FF9B97" />
		<case attrColorValue="#ff0c00"/>
	</renderingAttribute>
	<renderingAttribute name="branchColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#E7E197" />
		<case attrColorValue="#c4b600"/>
	</renderingAttribute>
	<renderingAttribute name="narrowGaugeColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#E5F097" />
		<case attrColorValue="#c0da00"/>
	</renderingAttribute>
	<renderingAttribute name="noUsageColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#999999" />
		<case attrColorValue="#000000"/>
	</renderingAttribute>
	<renderingAttribute name="disusedColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#C5BCB7" />
		<case attrColorValue="#70584d"/>
	</renderingAttribute>
	<renderingAttribute name="abandonedColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#CCC3C0" />
		<case attrColorValue="#7f6a62"/>
	</renderingAttribute>
	<renderingAttribute name="razedColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#CCC3C1" />
		<case attrColorValue="#94847e"/>
	</renderingAttribute>
	<renderingAttribute name="tramColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#EFC8E2" />
		<case attrColorValue="#d877b8"/>
	</renderingAttribute>
	<renderingAttribute name="subwayColor">
		<!-- <case nightMode="true" attrColorValue="#7b0000"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#9796E5" />
		<case attrColorValue="#0300c3"/>
	</renderingAttribute>
	<renderingAttribute name="lightRailColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#8CE195" />
		<case attrColorValue="#00bd14"/>
	</renderingAttribute>
	<renderingAttribute name="funicularColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#a46cf7" />
		<case attrColorValue="#6600ff"/>
	</renderingAttribute>
	<renderingAttribute name="monoRailColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#6cc0c0" />
		<case attrColorValue="#009999"/>
	</renderingAttribute>
	<renderingAttribute name="miniatureRailColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#999999" />
		<case attrColorValue="#000000"/>
	</renderingAttribute>
	<renderingAttribute name="sidingColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#999999" />
		<case attrColorValue="#000000"/>
	</renderingAttribute>
	<renderingAttribute name="yardColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#999999" />
		<case attrColorValue="#000000"/>
	</renderingAttribute>
	<renderingAttribute name="spurColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#b6947c" />
		<case attrColorValue="#87491d"/>
	</renderingAttribute>
	<renderingAttribute name="industrialColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#b6947c" />
		<case attrColorValue="#87491d"/>
	</renderingAttribute>
	<renderingAttribute name="preservedColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<apply_if additional="tunnel=yes" attrColorValue="#b6947c" />
		<case attrColorValue="#9e8f88"/>
	</renderingAttribute>

	<renderingAttribute name="railwayCasingColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<case attrColorValue="#ffffff"/>
	</renderingAttribute>
	<renderingAttribute name="bridgeCasingColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<case attrColorValue="#000000"/>
	</renderingAttribute>
	<renderingAttribute name="tunnelColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<case attrColorValue="#979797"/>
	</renderingAttribute>
	<renderingAttribute name="turntableFill">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<case attrColorValue="#ababab"/>
	</renderingAttribute>
	<renderingAttribute name="turntableCasing">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<case attrColorValue="#808080"/>
	</renderingAttribute>
	<renderingAttribute name="platformColor">
		<!-- <case nightMode="true" attrColorValue="#25454d"/> -->
		<case attrColorValue="#737373"/>
	</renderingAttribute>
	<!--- text colors -->
	<renderingConstant name="textColor" value="#585858"/>
	<renderingConstant name="textHaloColor" value="#ffffff"/>
	<renderingConstant name="textHaloRadius" value="1"/>
	<renderingConstant name="textStationColor" value="#0000ff"/>
	<renderingConstant name="textYardColor" value="#87491D"/>
	<renderingConstant name="textYardHaloColor" value="#F1F1F1"/>
	<renderingConstant name="textMinorSiteColor" value="#616161"/>
	<renderingConstant name="textTramStopColor" value="#D877B8"/>

	<order>
		<switch>
			<switch area="false" point="true" objectType="1" order="128">
				<case tag="railway" value="subway_entrance"/>
				<switch>
					<case tag="railway" value="station">
						<apply_if maxzoom="12">
							<switch>
								<!--<case additional="disused=yes"/>-->
								<apply order="-1"/>
							</switch>
						</apply_if>
						<apply_if maxzoom="12" baseAppMode="pedestrian" moreDetailed="false" order="-1"/>
					</case>
					<case tag="railway" value="yard"/>
					<case maxzoom="12" tag="abandoned:railway" value="station" order="-1"/>
					<case tag="railway" value="buffer_stop"/>
					<case tag="railway" value="halt">
						<apply_if maxzoom="12" baseAppMode="pedestrian" moreDetailed="false" order="-1"/>
					</case>
					<case tag="railway" value=""/>
				</switch>
			</switch>
			<switch area="false" objectType="2" order="80">
				<!-- Lines -->
				<!-- rather small adaptions:
				Subways, Trams and proposed, construction, preserved tracks ranked higher -->
				<!-- lift railway network on higher levels top of all other data -->
				<case maxzoom="14" tag="railway" value="rail" order="200"/>
				<case maxzoom="14" tag="railway" value="narrow_gauge" order="199"/>
				<case maxzoom="14" tag="railway" value="disused" order="190"/>
				<case maxzoom="14" tag="railway" value="abandoned" order="181"/>
				<case maxzoom="14" tag="railway" value="razed" order="180"/>
				<case maxzoom="14" tag="railway" value="proposed" order="191"/>
				<case maxzoom="14" tag="railway" value="construction" order="192"/>
				<case maxzoom="14" tag="railway" value="tram" order="193"/>
				<case maxzoom="14" tag="railway" value="subway" order="194"/>
				<case maxzoom="14" tag="railway" value="light_rail" order="195"/>
				<case maxzoom="14" tag="railway" value="funicular" order="188"/>
				<case maxzoom="14" tag="railway" value="miniature" order="187"/>
				<case maxzoom="14" tag="railway" value="monorail" order="189"/>
				<case maxzoom="14" tag="railway" value="preserved" order="196"/>

				<!-- slight overrides in the regular ordering below level 14 -->
				<switch order="86">
					<case tag="railway" value="subway"/>
					<switch>
						<case tag="railway" value="rail">
						</case>
						<case tag="railway" value="light_rail"/>
						<case tag="railway" value="monorail"/>
						<case tag="railway" value="funicular"/>
						<apply_if subwayMode="false" layer="-1" order="20"/>
						<apply_if subwayMode="false" additional="layer=-2" order="19"/>
						<apply_if layer="1" order="108"/>
						<apply_if additional="layer=2" order="138"/>
						<apply_if additional="layer=3" order="167"/>
					</switch>

					<case tag="railway" value="rail">
								<apply_if maxzoom="14" order="77"/>
								<apply_if additional="service=spur">
									<case maxzoom="12" order="-1"/>
									<case minzoom="13" order="67"/>
								</apply_if>
							</case>
					</switch>
					<case tag="railway" value="" order="86">
						<apply_if layer="1" order="108"/>
						<apply_if additional="layer=2" order="138"/>
						<apply_if additional="layer=3" order="167"/>
						<apply_if layer="-1" order="44"/>
						<apply_if additional="layer=-2" order="19"/>
					</case>
					<case tag="railway" value="station"/>
				</switch>
		</switch>
	</order>


<!-- to be edited -->	

	<!-- Railway textcolors -->
	
	<renderingConstant name="railwayPOITextColorDay" value="$textStationColor"/>
	<renderingConstant name="railwayTextColorDay" value="$textColor"/>
	<renderingConstant name="railwayTextHaloColorDay" value="$textHaloColor"/>
	<renderingConstant name="landuseManmadeTextHaloRadiusDay" value="2"/>
	<renderingConstant name="landuseManmadeTextHaloColor" value="$textHaloColor"/>
	<renderingConstant name="landuseManmadeTextColor" value="$textColor"/>


	<text>
		<switch minzoom="14" textColor="$railwayTextColorDay" textHaloRadius="$textHaloRadius"
				textHaloColor="$railwayTextHaloColorDay" textSize="13" textOrder="251">
			<case tag="railway" value="rail"/>
			<case minzoom="15" tag="railway" value="tram"/>
			<case minzoom="16" tag="railway" value="subway"/>
			<case tag="railway" value="light_rail"/>
			<case tag="railway" value="abandoned"/>
			<case tag="railway" value="disused"/>
			<case tag="railway" value="preserved"/>
			<case tag="railway" value="narrow_gauge"/>
			<case tag="railway" value="construction"/>
			<case tag="railway" value="monorail"/>
			<case tag="railway" value="funicular"/>
			<case minzoom="17" tag="railway" value="miniature"/>
			<apply nameTag="" textOnPath="true">
				<case maxzoom="14" textSize="12"/>
				<case maxzoom="15" textSize="13"/>
				<case maxzoom="16" textSize="14"/>
				<case maxzoom="17" textSize="16"/>
				<case minzoom="18" textSize="18"/>
				<apply_if nightMode="true" textColor="#ffffff" textHaloColor="#77777777"/>
			</apply>
		</switch>
		<switch textSize="12" textHaloRadius="$landuseManmadeTextHaloRadiusDay"
				textHaloColor="$landuseManmadeTextHaloColor" textWrapWidth="20" textOrder="144">
			<switch nameTag="">
				<case minzoom="13" tag="landuse" value="railway"/>
				<apply textColor="$landuseManmadeTextColor"/>
			</switch>
		</switch>
		<switch textColor="$railwayPOITextColorDay" textWrapWidth="25" textHaloRadius="$textHaloRadius" textBold="true" nameTag="">
			<case minzoom="17" tag="public_transport" value="platform" additional="disused=yes" textColor="#999999" textSize="12" textOnPath="true">
				<!--<apply_if nightMode="true" textColor="#dddddd" textHaloColor="$publicTransportModeStopTextHaloColorNight"/>-->
			</case>
			<!--
			<switch minzoom="15" maxzoom="15" textSize="12" textColor="$publicTransportModeStopTextColor" textHaloColor="$publicTransportModeStopTextHaloColor" textOrder="1">
				<case publicTransportMode="true" tag="public_transport" value="platform" textOnPath="true"/>
				<case tramTrainRoutes="true" tag="public_transport" value="platform" textOnPath="true"/>
				<case publicTransportMode="true" tag="amenity" value="bus_station"/>
				<case publicTransportMode="true" tag="highway" value="bus_stop"/>
				<case tramTrainRoutes="true" tag="railway" value="tram_stop"/>
				<apply_if nightMode="true" textColor="$publicTransportModeStopTextColorNight" textHaloRadius="2" textHaloColor="$publicTransportModeStopTextHaloColorNight"/>
			</switch>
			<switch minzoom="16" textSize="13"> <!- When public transport is selected -->
				<!--<case publicTransportMode="true" tag="public_transport" value="platform" nameTag="" nameTag2="ref" textOnPath="true" textOrder="1"/>
				<case publicTransportMode="true" tag="public_transport" value="platform" nameTag="ref" textOnPath="true" textOrder="1"/>
				<case tramTrainRoutes="true" tag="public_transport" value="platform" nameTag="" nameTag2="ref" textOnPath="true" textOrder="1"/>
				<case tramTrainRoutes="true" tag="public_transport" value="platform" nameTag="ref" textOnPath="true" textOrder="1"/>
				<case publicTransportMode="true" tag="amenity" value="bus_station" textOrder="10"/>
				<case publicTransportMode="true" tag="highway" value="bus_stop" nameTag="" nameTag2="ref" textOrder="1"/>
				<case publicTransportMode="true" tag="highway" value="bus_stop" nameTag="ref" textOrder="1"/>
				<case tramTrainRoutes="true" tag="railway" value="tram_stop" textOrder="1"/>
				<apply textColor="$publicTransportModeStopTextColor" textHaloColor="$publicTransportModeStopTextHaloColor">
					<apply_if nightMode="true" textColor="$publicTransportModeStopTextColorNight" textHaloRadius="2" textHaloColor="$publicTransportModeStopTextHaloColorNight"/>
				</apply>
			</switch>
			<switch minzoom="16"> <!- When no public transport is selected -->
				<!--<case tag="public_transport" value="platform" nameTag="" nameTag2="ref" textOnPath="true" textOrder="71" intersectionMargin="15"/>
				<case tag="public_transport" value="platform" nameTag="ref" textOnPath="true" textOrder="71" intersectionMargin="15"/>
				<case tag="highway" value="bus_stop" nameTag="" nameTag2="ref" textOrder="73"/>
				<case tag="highway" value="bus_stop" nameTag="ref" textOrder="73"/>
				<case tag="amenity" value="bus_station" textOrder="68"/>
				<case tag="railway" value="tram_stop" textOrder="74"/>
				<apply_if maxzoom="16" textSize="11"/>
				<apply_if minzoom="17" textSize="13"/>
				<apply_if nightMode="true" textColor="#d4d4ff" textHaloRadius="2" textHaloColor="#994563a7"/>
			</switch>
			<switch> <!- fallback: set attributes for 14-15 zooms when no public transport is selected -->
				<!--<case minzoom="14" maxzoom="14" tag="railway" value="halt" textSize="12" textOrder="72"/>
				<case minzoom="15" tag="railway" value="halt" textSize="13" textOrder="72"/>
				<case minzoom="14" maxzoom="14" tag="public_transport" value="station" textSize="12" textOrder="69"/>
				<case minzoom="15" tag="public_transport" value="station" textSize="13" textOrder="69"/>
				<apply_if nightMode="true" textColor="#d4d4ff" textHaloRadius="2" textHaloColor="#994563a7"/>
			</switch>-->
		</switch>
		<switch hidePOILabels="false" minzoom="14">
			<case tag="railway" value="station" nameTag="" textOrder="70" textColor="$railwayPOITextColorDay"/>
			<case minzoom="16" tag="railway" value="yard" nameTag="" textOrder="75" textColor="$railwayPOITextColorDay"/>
			<case minzoom="16" tag="abandoned:railway" value="station" textOrder="227" textColor="#8a8a8a">
				<apply_if nightMode="true" textHaloColor="#22ffffff"/>
			</case>
			<apply textWrapWidth="25" textHaloRadius="$textHaloRadius" textBold="true"/>
			<apply_if maxzoom="16" textSize="12"/>
			<apply_if minzoom="17" textSize="13"/>
			<apply_if nightMode="true" textColor="#d4d4ff" textHaloColor="#994563a7"/>
			<apply_if>
				<switch>
					<case additional="disused=yes" textColor="#8a8a8a">
						<apply_if nightMode="true" textHaloColor="#22ffffff"/>
					</case>
				</switch>
			</apply_if>
			<apply_if minzoom="15" engine_v1="true" textDy="4"/>
		</switch>
		<!--<switch hidePOILabels="false">
			<case minzoom="16" tag="railway" value="subway_entrance" nameTag="" nameTag2="ref" textSize="12" textColor="$subwayEntranceTextColor" textHaloColor="#ffffff" textHaloRadius="$textHaloRadius" textBold="true" textWrapWidth="25" textOrder="75"/>
			<apply_if minzoom="17" textSize="13"/>
			<apply_if engine_v1="true" textDy="2"/>
			<apply_if nightMode="true" textColor="$subwayEntranceTextColorNight" textHaloColor="#bb4563a7"/>
		</switch>-->
	</text>

	<!-- Zoom levels -->


	<!-- Line styling -->

	
	<!-- Point styling -->
	<!-- icons for Subways in color mode see analysis -->
	<point>
		<switch>
			<switch hideIcons="false">
				<case minzoom="13" tag="abandoned:railway" value="station">
					<case maxzoom="15" icon="railway_station_small_disused"/>
					<case minzoom="16" icon="railway_station_disused" shield="gray_round_shield">
						<apply_if nightMode="true" shield="gray_round_night_shield"/>
					</case>
				</case>

				<case minzoom="15" tag="railway" value="subway_entrance" icon="barrier_entrance_2" iconVisibleSize="23" intersectionSizeFactor="0.7" iconOrder="75">
					<case additional="subway_region=samara" icon="subway_samara"/>
					<case additional="subway_region=moscow" icon="subway_moscow"/>
					<case additional="subway_region=spb" icon="subway_spb"/>
					<case additional="subway_region=kazan" icon="subway_kazan"/>
					<case additional="subway_region=nnovgorod" icon="subway_nnovgorod"/>
					<case additional="subway_region=novosibirsk" icon="subway_novosibirsk"/>
					<case additional="subway_region=yekaterinburg" icon="subway_yekaterinburg"/>
					<case additional="subway_region=baku" icon="subway_baku"/>
					<case additional="subway_region=tbilisi" icon="subway_tbilisi"/>
					<case additional="subway_region=yerevan" icon="subway_yerevan"/>
					<case additional="subway_region=tashkent" icon="subway_tashkent"/>
					<case additional="subway_region=almaty" icon="subway_almaty"/>
					<case additional="subway_region=minsk" icon="subway_minsk"/>
					<case additional="subway_region=kyiv" icon="subway_kyiv"/>
					<case additional="subway_region=kharkiv" icon="subway_kharkiv"/>
					<case additional="subway_region=germany" icon="subway_germany"/>
					<case additional="subway_region=wien" icon="subway_wien"/>
					<case additional="subway_region=budapest" icon="subway_budapest"/>
					<case additional="subway_region=madrid" icon="subway_madrid"/>
					<case additional="subway_region=paris" icon="subway_paris"/>
					<case additional="subway_region=lyon" icon="subway_lyon"/>
					<case additional="subway_region=london" icon="subway_london"/>
					<case additional="subway_region=barcelona" icon="subway_barcelona"/>
					<case additional="subway_region=stockholm" icon="subway_stockholm"/>
					<case additional="subway_region=oslo" icon="subway_stockholm"/>
					<case additional="subway_region=praha" icon="subway_praha"/>
					<case additional="subway_region=athens" icon="subway_athens"/>
					<case additional="subway_region=italy" icon="subway_italy"/>
					<case additional="subway_region=italy_catania" icon="subway_italy_catania"/>
					<!-- <case additional="subway_region=italy_brescia" icon="subway_italy_brescia"/>-->
					<case additional="subway_region=rotterdam" icon="subway_rotterdam"/>
					<case additional="subway_region=amsterdam" icon="subway_amsterdam"/>
					<case additional="subway_region=brussels" icon="subway_brussels"/>
					<case additional="subway_region=bucharest" icon="subway_bucharest"/>
					<case additional="subway_region=osaka" icon="subway_osaka"/>
					<case additional="subway_region=tokyo" icon="subway_tokyo"/>
					<case additional="subway_region=nagoya" icon="subway_nagoya"/>
					<case additional="subway_region=singapore" icon="subway_singapore"/>
					<case additional="subway_region=manila" icon="subway_manila"/>
					<case additional="subway_region=kolkata" icon="subway_kolkata"/>
					<case additional="subway_region=delhi" icon="subway_delhi"/>
					<!-- <case additional="subway_region=bangkok" icon="subway_bangkok"/>-->
					<case additional="subway_region=tehran" icon="subway_tehran"/>
					<case additional="subway_region=chicago" icon="subway_chicago"/>
					<case additional="subway_region=newyork" icon="subway_newyork"/>
					<case additional="subway_region=boston" icon="subway_boston"/>
					<case additional="subway_region=washington" icon="subway_washington"/>
					<case additional="subway_region=losangeles" icon="subway_losangeles"/>
					<case additional="subway_region=montreal" icon="subway_montreal"/>
					<case additional="subway_region=toronto" icon="subway_toronto"/>
					<case additional="subway_region=cairo" icon="subway_cairo"/>
					<case additional="subway_region=riodejaneiro" icon="subway_riodejaneiro"/>
					<case additional="subway_region=buenosaires" icon="subway_buenosaires"/>
					<case additional="subway_region=sofia" icon="subway_sofia"/>
					<case additional="subway_region=taipei" icon="subway_taipei"/>
					<case additional="subway_region=santiago" icon="subway_santiago"/>
					<case additional="subway_region=valparaiso" icon="subway_valparaiso"/>
					<case additional="subway_region=busan" icon="subway_seoul"/>
					<case additional="subway_region=seoul" icon="subway_seoul"/>
					<case additional="subway_region=philadelphia" icon="subway_philadelphia"/>
					<case additional="subway_region=philadelphia_patco" icon="subway_philadelphia_patco"/>
					<case additional="subway_region=istanbul" icon="subway_istanbul"/>
					<case additional="subway_region=san_francisco" icon="subway_san_francisco"/>
					<case additional="subway_region=atlanta" icon="subway_atlanta"/>
					<case additional="subway_region=baltimore" icon="subway_baltimore"/>
					<case additional="subway_region=cleveland" icon="subway_cleveland"/>
					<case additional="subway_region=miami" icon="subway_miami"/>
					<case additional="subway_region=newyork_path" icon="subway_newyork_path"/>
					<case additional="subway_region=puerto_rico" icon="subway_puerto_rico"/>
					<case additional="subway_region=mexico" icon="subway_mexico"/>
					<case additional="subway_region=sanpaulo" icon="subway_sanpaulo"/>
					<case additional="subway_region=caracas" icon="subway_caracas"/>
					<case additional="subway_region=yokohama" icon="subway_yokohama"/>
					<case additional="subway_region=yokohama_minatomirai" icon="subway_yokohama_minatomirai"/>
					<case additional="subway_region=sapporo" icon="subway_sapporo"/>
					<case additional="subway_region=medellin" icon="subway_medellin"/>
					<case additional="subway_region=monterrey" icon="subway_monterrey"/>
					<case additional="subway_region=warsaw" icon="subway_warsaw"/>
					<case additional="subway_region=lisbon" icon="subway_lisbon"/>
					<case additional="subway_region=fukuoka" icon="subway_fukuoka"/>
					<case additional="subway_region=suzhou" icon="subway_suzhou"/>
					<case additional="subway_region=shanghai" icon="subway_shanghai"/>
					<case additional="subway_region=guangzhou" icon="subway_guangzhou"/>
					<case shield="blue_square_shield" intersectionSizeFactor="1">
						<apply_if nightMode="true" shield="blue_square_night_shield"/>
					</case>
				</case>
			</switch>
			<!-- Public transport mode icons -->
			<switch>
					<apply_if minzoom="15" maxzoom="16" iconVisibleSize="9" iconOrder="73">
					<switch hideIcons="false">
						<switch>
							<case additional="train=yes"/>
							<case additional="light_rail=yes"/>
							<case additional="monorail=yes"/>
							<apply icon="railway_station_small"/>
						</switch>
						<case icon="highway_bus_stop_small"/>
					</switch>
					<case publicTransportMode="true">
						<apply icon="highway_bus_stop_round_big" iconVisibleSize="7" iconOrder="55">
							<apply_if nightMode="true" icon="highway_bus_stop_round_big_night"/>
						</apply>
					</case>
				</apply_if>
				<apply_if hideIcons="false" minzoom="17">
					<switch>
						<switch>
							<case additional="train=yes"/>
							<case additional="light_rail=yes"/>
							<case additional="monorail=yes"/>
							<apply icon="railway_station"/>
						</switch>
						<case icon="highway_bus_stop"/>
						<apply shield="blue_square_shield" iconOrder="82" intersectionMargin="3"/>
						<apply_if moreDetailed="true" additional="shelter=yes" shield="blue_square_shelter_yes_shield" intersectionSizeFactor="0.9"/>
						<apply_if nightMode="true" shield="blue_square_night_shield">
							<apply_if moreDetailed="true" additional="shelter=yes" shield="blue_square_shelter_yes_night_shield" intersectionSizeFactor="0.9"/>
						</apply_if>
					</switch>
				</apply_if>
			</switch>
			<switch tramTrainRoutes="true" iconOrder="55">
				<case tag="railway" value="tram_stop"/>
				<case tag="public_transport" value="stop_position" additional="tram=yes"/>
				<case tag="public_transport" value="platform" additional="tram=yes"/>
				<apply_if minzoom="14" maxzoom="14" icon="railway_tram_stop_round_small">
					<apply_if nightMode="true" icon="railway_tram_stop_round_small_night"/>
				</apply_if>
				<apply_if minzoom="15" maxzoom="16" icon="railway_tram_stop_round_big">
					<apply_if nightMode="true" icon="railway_tram_stop_round_big_night"/>
				</apply_if>
				<apply_if minzoom="17" icon="railway_tram_stop" shield="blue_round_shield" iconVisibleSize="17">
					<apply_if moreDetailed="true" additional="shelter=yes" shield="blue_square_shelter_yes_shield"/>
					<apply_if nightMode="true" shield="blue_square_night_shield">
						<apply_if moreDetailed="true" additional="shelter=yes" shield="blue_square_shelter_yes_night_shield"/>
					</apply_if>
				</apply_if>
			</switch>

			<switch hideIcons="false" iconOrder="83">
				<case minzoom="13" tag="railway" value="halt">
					<case maxzoom="14" icon="halt_small_2" iconVisibleSize="10"/>
					<case minzoom="15" maxzoom="15" icon="halt_small"/>
					<case minzoom="16" icon="halt" shield="blue_square_small_shield">
						<apply_if nightMode="true" shield="blue_square_night_small_shield"/>
					</case>
				</case>
				<case minzoom="15" tag="railway" value="tram_stop">
					<case maxzoom="16" icon="tram_stop_small" iconVisibleSize="10"/>
					<case minzoom="17" icon="railway_tram_stop" shield="blue_round_shield">
						<apply_if moreDetailed="true" additional="shelter=yes" shield="blue_square_shelter_yes_shield"/>
						<apply_if nightMode="true" shield="blue_square_night_shield">
							<apply_if moreDetailed="true" additional="shelter=yes" shield="blue_square_shelter_yes_night_shield"/>
						</apply_if>
					</case>
				</case>
				<case minzoom="15" tag="railway" value="level_crossing" icon="level_crossing_map">
					<apply_if streetLighting="true">
						<case additional="lit_additional=yes">
							<apply_if nightMode="false" streetLightingNight="false" shield="street_lamp_lit_yes_shield"/>
							<apply_if nightMode="true" shield="street_lamp_lit_yes_night_shield"/>
						</case>
						<case additional="lit_additional=no">
							<apply_if nightMode="false" streetLightingNight="false" shield="street_lamp_lit_no_shield"/>
							<apply_if nightMode="true" shield="street_lamp_lit_no_night_shield"/>
						</case>
					</apply_if>
				</case>
			</switch>
			<case minzoom="16" tag="railway" value="yard" icon="railway_yard" shield="blue_round_shield" iconVisibleSize="14">
				<apply_if nightMode="true" shield="blue_round_night_shield"/>
			</case>
		</switch>
	</point>
	
	<!-- Polygons -->
	<!-- see Analysis -->
	
	<!-- line styling -->
	<line>
		<!-- Low Levels -->
		<case minzoom="2" maxzoom="8" tag="railway" value="rail" color="$railwayRailColor" strokeWidth="2" cap="ROUND"
			  shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
			<!-- without effect as "usage" and "highspeed" tag is missing in the input -->
			<case additional="usage=main">
				<case additional="highspeed=yes" color="$highSpeedColor"/>
			</case>
			<case additional="usage=branch" color="$branchColor"/>
			<!-- instead, only this will really work -->
			<case additional="service=" color="$null"/> <!-- exclude service tracks from rendering in this level-->
			<case minzoom="6" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor"
			strokeWidth="3"/>
		</case>
		<!-- High Levels -->
		<switch minzoom="9">
			<!-- Tracks of different Railway Types -->
			<case tag="railway" value="rail" color="$railwayRailColor" strokeWidth="3.5" cap="ROUND"
				  shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7.5" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
				<!-- without effect as "usage" and "highspeed" tag is missing in the input -->
				<case additional="usage=main">
					<case additional="highspeed=yes" color="$highSpeedColor"/>
				</case>
				<case additional="usage=branch" color="$branchColor"/>
				<!-- instead, only this will really work -->
				<case additional="service=">
					<case minzoom="11" strokeWidth="2" >
						<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
								  strokeWidth_0="6" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
						<case additional="service=siding" color="$sidingColor"/>
						<case additional="service=crossover" color="$sidingColor"/>
						<case additional="service=spur" color="$spurColor" strokeWidth="1.5">
							<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
								  strokeWidth_0="5.5" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
						</case>
					</case>
					<!-- without effect, as yard value is missing -->
					<case minzoom="12" additional="service=yard" color="$yardColor" strokeWidth="1.5">
						<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
								  strokeWidth_0="5.5" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
					</case>
				</case>
			</case>
			<case tag="railway" value="narrow_gauge"
				  shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor"
				  strokeWidth="3" color="$narrowGaugeColor" cap="ROUND">
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
				<case additional="service=">
					<case minzoom="11">
						<case additional="service=siding" color="$narrowGaugeColor" strokeWidth="2" cap="ROUND">
							<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
									  strokeWidth_0="6" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
						</case>
						<case additional="service=crossover" color="$narrowGaugeColor" strokeWidth="2" cap="ROUND">
							<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
									  strokeWidth_0="6" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
						</case>
						<case additional="service=spur" color="$narrowGaugeColor" strokeWidth="1.5" cap="ROUND">
							<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
									  strokeWidth_0="6" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
						</case>
					</case>
					<!-- without effect -->
					<case minzoom="12" additional="service=yard" color="$yardColor" strokeWidth="1.5" cap="ROUND">
						<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
								  strokeWidth_0="5.5" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
					</case>
				</case>
			</case>
			<case tag="railway" value="disused" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$disusedColor" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<case tag="railway" value="abandoned" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$abandonedColor" pathEffect="5_5" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<case tag="railway" value="razed" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$razedColor" pathEffect="3_7" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>

			<case tag="railway" value="construction" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$noUsageColor" pathEffect="9_9" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<case tag="railway" value="proposed" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$noUsageColor" pathEffect="2_8" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<!-- without effect, as tag is missing-->
			<case tag="railway:preserved" value="yes"
				  shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="2" color="$preservedColor" cap="ROUND"/>
				<apply strokeWidth_2="5" color_2="$preservedColor" pathEffect_2="3_10"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="9" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<!-- with effect, but undesired by tagging scheme -->
			<case tag="railway" value="preserved">
				<apply strokeWidth="2" color="$preservedColor" cap="ROUND"/>
				<apply shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor"/>
				<apply strokeWidth_2="5" color_2="$preservedColor" pathEffect_2="3_10"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="9" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>

			<case tag="railway" value="subway" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$subwayColor" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<case tag="railway" value="tram" shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$tramColor" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<case tag="railway" value="light_rail"
				  shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
				<apply strokeWidth="3" color="$lightRailColor" cap="ROUND"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="7" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<!-- not part of ORM, but interesting -->
			<case minzoom="15" tag="railway" value="funicular" color="$funicularColor" strokeWidth="2" cap="ROUND"
			shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
					<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
							  strokeWidth_0="6" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<case minzoom="15" tag="railway" value="monorail" color="$monoRailColor" strokeWidth="2" cap="ROUND"
			shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor">
					<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
							  strokeWidth_0="6" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>
			<case minzoom="16" tag="railway" value="miniature">
				<apply color="$miniatureRailColor" strokeWidth="1.5" cap="ROUND"/>
				<apply shadowRadius="$railwayCasingRadius" shadowColor="$railwayCasingColor"/>
				<apply strokeWidth_2="4" color_2="$miniatureRailColor" pathEffect_2="3_10"/>
				<apply_if additional="bridge=yes" color_0="$railwayCasingColor"
						  strokeWidth_0="8" shadowRadius="4" shadowColor="$bridgeCasingColor" cap="BUTT"/>
			</case>

			<!-- railway and public transport stops are equalized in the data. no matter, interesting -->
			<case tag="public_transport" value="platform" color="$platformColor" strokeWidth="5" />
		</switch>
	</line>


	

</renderingStyle>
